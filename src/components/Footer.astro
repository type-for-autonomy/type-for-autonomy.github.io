---
// Footer.astro
---
<footer class="footer" role="contentinfo">
  <div class="footer__inner section-inner">
    <div class="footer__left">
      <a href="/" class="footer__logo" aria-label="TYPE home">
        <img src="/assets/type-mark.png" alt="" aria-hidden="true" />
        <span>TYPE</span>
      </a>
      <h2>Innovate with us</h2>
      <p>Help us shape the future of communication.</p>
      <div class="footer__actions" id="footer-involved">
        <a href="#involved-overlay" class="btn">Get Involved</a>
        <a href="mailto:research@type-for-autonomy.org" class="btn">Contact</a>
      </div>
    </div>

    <div class="footer__right">
      <img
        class="footer__illustration"
        src="/assets/footer-illustration.png"
        alt=""
        aria-hidden="true"
        loading="lazy"
      />
      <p class="footer__social-title">Get Social</p>
      <div class="footer__socials" role="list" aria-label="Social links">
        <a href="#socials-overlay" role="listitem" aria-label="Facebook placeholder">f</a>
        <a href="#socials-overlay" role="listitem" aria-label="Twitter placeholder">t</a>
        <a href="#socials-overlay" role="listitem" aria-label="Instagram placeholder">ig</a>
      </div>
    </div>
  </div>
</footer>

<div id="involved-overlay" class="overlay" aria-label="Get involved form">
  <div class="overlay__card">
    <h3 class="overlay__title">Get Involved</h3>
    <form id="involved-form" class="involved-form" action="#" method="post">
      <label for="involved-name">Name</label>
      <input id="involved-name" name="name" type="text" required />

      <label for="involved-email">Email</label>
      <input id="involved-email" name="email" type="email" required />

      <label for="involved-path">How do you want to connect?</label>
      <select id="involved-path" name="path" required>
        <option value="">Select one</option>
        <option value="collaborate">I’m a nonspeaking autistic person / supporter and want to collaborate</option>
        <option value="professional">I’m a researcher/clinician/educator and want to connect</option>
        <option value="support">I want to support TYPE (general interest / partnership)</option>
      </select>

      <button type="submit" class="btn">Submit</button>
    </form>

    <div id="involved-success" hidden>
      <p class="overlay__body">Thanks — your request was received. Want project updates too?</p>
      <div class="overlay__actions">
        <a href="#journey" class="btn">Get Updates</a>
      </div>
    </div>

    <a href="#footer-involved" class="overlay__close">Close</a>
  </div>
</div>

<div id="socials-overlay" class="overlay" aria-label="Social links status">
  <div class="overlay__card">
    <h3 class="overlay__title">Social channels are coming soon</h3>
    <p class="overlay__body">We’re setting up our socials. Get updates in the meantime.</p>
    <div class="overlay__actions">
      <a href="#journey" class="btn">Get Updates</a>
    </div>
    <a href="#footer-involved" class="overlay__close">Close</a>
  </div>
</div>

<script>
  const involvedForm = document.getElementById('involved-form');
  const involvedSuccess = document.getElementById('involved-success');

  involvedForm?.addEventListener('submit', (event) => {
    event.preventDefault();
    involvedForm.hidden = true;
    if (involvedSuccess) {
      involvedSuccess.hidden = false;
    }
  });
</script>

<style>
  .footer {
    background: var(--color-bg);
    border-top: 0.0625rem solid var(--color-border);
    padding-block: var(--space-lg);
  }

  .footer__inner {
    display: grid;
    grid-template-columns: 1.4fr 1fr;
    gap: 2rem;
    align-items: start;
  }

  .footer__logo {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-text);
    text-decoration: none;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }

  .footer__logo img {
    width: 1.75rem;
    height: 1.75rem;
    object-fit: contain;
  }

  .footer h2 {
    font-size: clamp(2rem, 5vw, 3rem);
    margin-bottom: 0.6rem;
  }

  .footer p {
    color: var(--color-primary);
    max-width: 21.25rem;
  }

  .footer__actions {
    margin-top: 1.2rem;
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .footer__social-title {
    text-transform: uppercase;
    letter-spacing: 0.06em;
    color: var(--color-primary);
    margin-bottom: 0.7rem;
    font-weight: 700;
  }

  .footer__illustration {
    width: 100%;
    max-width: 22.5rem;
    object-fit: contain;
    margin-bottom: 0.85rem;
  }

  .footer__socials {
    display: flex;
    gap: 0.5rem;
  }

  .footer__socials a {
    width: 2.2rem;
    height: 2.2rem;
    display: grid;
    place-items: center;
    text-decoration: none;
    border: 0.0625rem solid var(--color-border);
    color: var(--color-text);
  }

  .involved-form {
    display: grid;
    gap: 0.45rem;
  }

  .involved-form input,
  .involved-form select {
    padding: 0.6rem;
    background: var(--color-surface);
    color: var(--color-text);
    border: 0.0625rem solid var(--color-border);
  }

  @media (max-width: 47.5em) {
    .footer__inner {
      grid-template-columns: 1fr;
    }
  }
</style>
